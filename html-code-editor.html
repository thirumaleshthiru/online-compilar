<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <title>HTML Online Editor</title>
</head>
<body>
<nav>
<a href="/index.html" id="logo"><i class="fa-solid fa-terminal"></i> Online Compilar</a>
<div class="menu" id="menu">
<i class="fa-solid fa-bars" id="open" ></i>
<i class="fa-sharp fa-solid fa-xmark" id="close"></i>
</div>

<ul class="links">
<li><a href="./html-code-editor.html" class="link">HTML</a></li>
<li><a href="./js-online-compiler.html" class="link">JavaScript</a></li>
<li><a href="./python-online-compiler.html" class="link">Python</a></li>
<li><a href="./typescript-online-compiler.html" class="link">TypeScript</a></li>
</ul>
</nav>

<div class="bar">
<div class="themes">
<label for="theme-selector">Select Theme:</label>
<select id="theme-selector" onchange="changeTheme()">
<option value="vs">Light Theme</option>
<option value="vs-dark">Dark Theme</option>
<option value="hc-black">High Contrast</option>
</select> 
</div>
<div class="buttons">
    <button id="compile-button"><i class="fa-solid fa-play"></i>Execute Code</button>
    <button id="save-button">Save Code</button></div>
</div>

<main>
<h1 class="h1">HTML Online Code Editor</h1>
<div class="code-editor">
<div class="editor" id="editor">
</div>
<div class="output">
</div>  
</div>
</main>

<section class="content">
<h1 class="h1">What is Online HTML Code </h1>
<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem expedita officiis, omnis dolore dolores ea rem sapiente quasi, beatae inventore cum tempora, libero distinctio optio pariatur odit excepturi sint! Vel.</p>
</section>
<script src="./app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.29.0/min/vs/loader.js"></script>
 
<script>
let editor;  

document.addEventListener('DOMContentLoaded', function () {
// Load the Monaco Editor
require.config({ paths: { 'vs': 'https://cdn.jsdelivr.net/npm/monaco-editor@0.29.0/min/vs' }});
require(['vs/editor/editor.main'], function () {
// Monaco Editor is ready to be used
editor = monaco.editor.create(document.getElementsByClassName('editor')[0], {
value: `<h1>Welcome to Fish Code Editor</h1>`,
language: 'html',
theme: 'vs',
fontSize: 18
});

// Output area
var outputArea = document.getElementsByClassName('output')[0];

// Theme selection dropdown
var themeSelector = document.getElementById('theme-selector');

// Compile code button
var compileButton = document.getElementById('compile-button');
compileButton.addEventListener('click', function () {
var code = editor.getValue();
try {
// Render the HTML code in the output area
outputArea.innerHTML = code;
} catch (error) {
console.error('Code execution error:', error);
outputArea.textContent = 'Error: ' + error.message;
}
});

// Function to change the Monaco Editor theme
window.changeTheme = function () {
var selectedTheme = themeSelector.value;
monaco.editor.setTheme(selectedTheme);
};
});

function saveCode() {
var code = editor.getValue();
// Example: Save code using File API
var blob = new Blob([code], { type: 'text/plain' });
var filename = 'my_code.html'; // Adjust filename as needed
var link = document.createElement('a');
link.href = window.URL.createObjectURL(blob);
link.download = filename;
link.click();
}

// Add event listener to the save button
var saveButton = document.getElementById('save-button');
saveButton.addEventListener('click', saveCode);
    });
</script>
</script>
    
</body>
</html>